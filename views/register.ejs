<%- include('layout', { body: `
<div class="max-w-md mx-auto mt-12">
  <div class="card-wood p-8">
    <div class="text-center mb-8">
      <!-- New Player Icon with Neon Glow -->
      <div class="w-20 h-20 rounded-full bg-pub-green-900 border-4 border-pub-wood-light flex items-center justify-center mx-auto mb-4 shadow-neon-green">
        <span class="text-4xl">ğŸ†</span>
      </div>
      <h1 class="text-2xl font-pub-heading font-bold text-aged-cream">
        ${typeof isFirstUser !== 'undefined' && isFirstUser ? 'Create Admin Account' : 'Join the Game'}
      </h1>
      <p class="text-pub-chalk-accent mt-2">Set up your passkey to get started</p>
    </div>

    ${typeof isFirstUser !== 'undefined' && isFirstUser ? '<div class="bg-neon-blue/10 border-2 border-neon-blue/30 text-neon-blue px-4 py-3 rounded-lg mb-6 text-sm"><div class="flex items-center gap-2"><span class="text-xl">ğŸ‘‘</span><span>You are creating the first account, which will have admin privileges.</span></div></div>' : ''}

    ${typeof error !== 'undefined' && error ? '<div class="alert alert-error mb-6">' + error + '</div>' : ''}

    <form id="register-form" class="space-y-6">
      <input type="hidden" id="token" value="${token}">

      <div>
        <label for="username" class="block text-sm font-pub-heading text-aged-cream mb-2 uppercase tracking-wider">Your Name</label>
        <input
          type="text"
          id="username"
          name="username"
          required
          minlength="2"
          maxlength="50"
          class="input"
          placeholder="What do the regulars call you?"
        >
        <p class="text-pub-chalk-accent text-xs mt-2">This is how you'll appear on the scoreboard</p>
      </div>

      <button type="submit" class="btn btn-primary w-full inline-flex items-center justify-center gap-3">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A13.916 13.916 0 008 11a4 4 0 118 0c0 1.017-.07 2.019-.203 3m-2.118 6.844A21.88 21.88 0 0015.171 17m3.839 1.132c.645-2.266.99-4.659.99-7.132A8 8 0 008 4.07M3 15.364c.64-1.319 1-2.8 1-4.364 0-1.457.39-2.823 1.07-4" />
        </svg>
        Register with Passkey
      </button>
    </form>

    <div id="register-status" class="mt-4 text-center text-pub-chalk-accent text-sm"></div>
  </div>
</div>
` }) %>
